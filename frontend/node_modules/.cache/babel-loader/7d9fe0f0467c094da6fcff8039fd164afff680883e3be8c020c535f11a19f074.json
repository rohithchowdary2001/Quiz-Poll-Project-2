{"ast":null,"code":"import React from'react';import{useAuth}from'../context/AuthContext';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DebugAuth=()=>{const{user,token,loading,getUserInfo,debugState}=useAuth();const testTokenVerification=async()=>{try{console.log('Testing token verification...');const response=await api.get('/auth/verify');console.log('Token verification response:',response.data);alert('Token verification successful! Check console for details.');}catch(error){console.error('Token verification failed:',error);alert('Token verification failed! Check console for details.');}};const checkLocalStorage=()=>{const token=localStorage.getItem('token');console.log('LocalStorage token:',token);alert(`LocalStorage token: ${token?'exists':'not found'}`);};const clearLocalStorage=()=>{localStorage.removeItem('token');window.location.reload();};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Authentication Debug\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Current State:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Loading:\"}),\" \",loading?'true':'false']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User:\"}),\" \",user?user.username:'null']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",(user===null||user===void 0?void 0:user.role)||'none']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Token (Context):\"}),\" \",token?'exists':'none']}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Token (LocalStorage):\"}),\" \",localStorage.getItem('token')?'exists':'none']})]}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"User Details:\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(user,null,2)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Actions:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:debugState,children:\"Log State to Console\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:testTokenVerification,children:\"Test Token Verification\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:checkLocalStorage,children:\"Check LocalStorage\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:clearLocalStorage,children:\"Clear LocalStorage & Reload\"})]})]})]})})]})});};export default DebugAuth;","map":{"version":3,"names":["React","useAuth","api","jsx","_jsx","jsxs","_jsxs","DebugAuth","user","token","loading","getUserInfo","debugState","testTokenVerification","console","log","response","get","data","alert","error","checkLocalStorage","localStorage","getItem","clearLocalStorage","removeItem","window","location","reload","className","children","username","role","JSON","stringify","onClick"],"sources":["/home/mounikavemula/Documents/PROJECT/quizManagement/frontend/src/components/DebugAuth.js"],"sourcesContent":["import React from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport api from '../services/api';\n\nconst DebugAuth = () => {\n    const { user, token, loading, getUserInfo, debugState } = useAuth();\n\n    const testTokenVerification = async () => {\n        try {\n            console.log('Testing token verification...');\n            const response = await api.get('/auth/verify');\n            console.log('Token verification response:', response.data);\n            alert('Token verification successful! Check console for details.');\n        } catch (error) {\n            console.error('Token verification failed:', error);\n            alert('Token verification failed! Check console for details.');\n        }\n    };\n\n    const checkLocalStorage = () => {\n        const token = localStorage.getItem('token');\n        console.log('LocalStorage token:', token);\n        alert(`LocalStorage token: ${token ? 'exists' : 'not found'}`);\n    };\n\n    const clearLocalStorage = () => {\n        localStorage.removeItem('token');\n        window.location.reload();\n    };\n\n    return (\n        <div className=\"container mt-4\">\n            <div className=\"card\">\n                <div className=\"card-header\">\n                    <h3>Authentication Debug</h3>\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <h5>Current State:</h5>\n                            <ul className=\"list-group\">\n                                <li className=\"list-group-item\">\n                                    <strong>Loading:</strong> {loading ? 'true' : 'false'}\n                                </li>\n                                <li className=\"list-group-item\">\n                                    <strong>User:</strong> {user ? user.username : 'null'}\n                                </li>\n                                <li className=\"list-group-item\">\n                                    <strong>Role:</strong> {user?.role || 'none'}\n                                </li>\n                                <li className=\"list-group-item\">\n                                    <strong>Token (Context):</strong> {token ? 'exists' : 'none'}\n                                </li>\n                                <li className=\"list-group-item\">\n                                    <strong>Token (LocalStorage):</strong> {localStorage.getItem('token') ? 'exists' : 'none'}\n                                </li>\n                            </ul>\n                            \n                            {user && (\n                                <div className=\"mt-3\">\n                                    <h6>User Details:</h6>\n                                    <pre>{JSON.stringify(user, null, 2)}</pre>\n                                </div>\n                            )}\n                        </div>\n                        \n                        <div className=\"col-md-6\">\n                            <h5>Actions:</h5>\n                            <div className=\"d-grid gap-2\">\n                                <button className=\"btn btn-primary\" onClick={debugState}>\n                                    Log State to Console\n                                </button>\n                                <button className=\"btn btn-info\" onClick={testTokenVerification}>\n                                    Test Token Verification\n                                </button>\n                                <button className=\"btn btn-warning\" onClick={checkLocalStorage}>\n                                    Check LocalStorage\n                                </button>\n                                <button className=\"btn btn-danger\" onClick={clearLocalStorage}>\n                                    Clear LocalStorage & Reload\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default DebugAuth; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}