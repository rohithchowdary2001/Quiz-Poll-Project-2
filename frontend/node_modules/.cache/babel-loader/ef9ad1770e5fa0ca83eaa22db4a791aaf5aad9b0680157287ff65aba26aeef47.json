{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requiredRole}=_ref;const{user,loading}=useAuth();// Show loading spinner while checking authentication\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}// Redirect to login if not authenticated\nif(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}// Check role-based access\nif(requiredRole&&user.role!==requiredRole){return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title text-danger\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"You don't have permission to access this page.\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Required role: \",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-primary\",children:requiredRole})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Your role: \",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:user.role})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:()=>window.history.back(),children:\"Go Back\"})]})})})})});}return children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requiredRole","user","loading","className","role","to","replace","onClick","window","history","back"],"sources":["/home/mounikavemula/Documents/PROJECT/quizManagement/frontend/src/components/common/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\n\nconst ProtectedRoute = ({ children, requiredRole }) => {\n  const { user, loading } = useAuth();\n\n  // Show loading spinner while checking authentication\n  if (loading) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center vh-100\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  // Redirect to login if not authenticated\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  // Check role-based access\n  if (requiredRole && user.role !== requiredRole) {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-md-6\">\n            <div className=\"card\">\n              <div className=\"card-body text-center\">\n                <h4 className=\"card-title text-danger\">Access Denied</h4>\n                <p className=\"card-text\">\n                  You don't have permission to access this page.\n                </p>\n                <p className=\"text-muted\">\n                  Required role: <span className=\"badge bg-primary\">{requiredRole}</span>\n                </p>\n                <p className=\"text-muted\">\n                  Your role: <span className=\"badge bg-secondary\">{user.role}</span>\n                </p>\n                <button \n                  className=\"btn btn-primary mt-3\"\n                  onClick={() => window.history.back()}\n                >\n                  Go Back\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAgC,IAA/B,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAChD,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAGV,OAAO,CAAC,CAAC,CAEnC;AACA,GAAIU,OAAO,CAAE,CACX,mBACER,IAAA,QAAKS,SAAS,CAAC,yDAAyD,CAAAJ,QAAA,cACtEL,IAAA,QAAKS,SAAS,CAAC,6BAA6B,CAACC,IAAI,CAAC,QAAQ,CAAAL,QAAA,cACxDL,IAAA,SAAMS,SAAS,CAAC,iBAAiB,CAAAJ,QAAA,CAAC,YAAU,CAAM,CAAC,CAChD,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI,CAACE,IAAI,CAAE,CACT,mBAAOP,IAAA,CAACH,QAAQ,EAACc,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA;AACA,GAAIN,YAAY,EAAIC,IAAI,CAACG,IAAI,GAAKJ,YAAY,CAAE,CAC9C,mBACEN,IAAA,QAAKS,SAAS,CAAC,gBAAgB,CAAAJ,QAAA,cAC7BL,IAAA,QAAKS,SAAS,CAAC,4BAA4B,CAAAJ,QAAA,cACzCL,IAAA,QAAKS,SAAS,CAAC,UAAU,CAAAJ,QAAA,cACvBL,IAAA,QAAKS,SAAS,CAAC,MAAM,CAAAJ,QAAA,cACnBH,KAAA,QAAKO,SAAS,CAAC,uBAAuB,CAAAJ,QAAA,eACpCL,IAAA,OAAIS,SAAS,CAAC,wBAAwB,CAAAJ,QAAA,CAAC,eAAa,CAAI,CAAC,cACzDL,IAAA,MAAGS,SAAS,CAAC,WAAW,CAAAJ,QAAA,CAAC,gDAEzB,CAAG,CAAC,cACJH,KAAA,MAAGO,SAAS,CAAC,YAAY,CAAAJ,QAAA,EAAC,iBACT,cAAAL,IAAA,SAAMS,SAAS,CAAC,kBAAkB,CAAAJ,QAAA,CAAEC,YAAY,CAAO,CAAC,EACtE,CAAC,cACJJ,KAAA,MAAGO,SAAS,CAAC,YAAY,CAAAJ,QAAA,EAAC,aACb,cAAAL,IAAA,SAAMS,SAAS,CAAC,oBAAoB,CAAAJ,QAAA,CAAEE,IAAI,CAACG,IAAI,CAAO,CAAC,EACjE,CAAC,cACJV,IAAA,WACES,SAAS,CAAC,sBAAsB,CAChCI,OAAO,CAAEA,CAAA,GAAMC,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC,CAAE,CAAAX,QAAA,CACtC,SAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAEA,MAAO,CAAAA,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}