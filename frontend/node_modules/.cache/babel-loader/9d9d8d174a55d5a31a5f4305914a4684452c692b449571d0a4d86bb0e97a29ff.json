{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import ProtectedRoute from'./components/common/ProtectedRoute';import LoadingSpinner from'./components/common/LoadingSpinner';import Navbar from'./components/common/Navbar';import DebugAuth from'./components/DebugAuth';import{useAuth}from'./context/AuthContext';// Auth Components\nimport Login from'./components/auth/Login';import Register from'./components/auth/Register';// CSS\nimport'./App.css';// Debug component to show authentication state\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AuthDebug=()=>{const{user,token,loading}=useAuth();if(process.env.NODE_ENV!=='development'){return null;}return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:0,right:0,background:'rgba(0,0,0,0.8)',color:'white',padding:'10px',fontSize:'12px',zIndex:9999,maxWidth:'300px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Auth Debug:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Loading: \",loading?'true':'false',/*#__PURE__*/_jsx(\"br\",{}),\"User: \",user?user.username:'null',/*#__PURE__*/_jsx(\"br\",{}),\"Role: \",(user===null||user===void 0?void 0:user.role)||'none',/*#__PURE__*/_jsx(\"br\",{}),\"Token: \",token?'exists':'none',/*#__PURE__*/_jsx(\"br\",{}),\"LocalStorage: \",localStorage.getItem('token')?'exists':'none']});};// Basic Dashboard Components (temporary)\nconst AdminDashboard=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to the admin dashboard!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This page should only be visible to admin users.\"})]});const ProfessorDashboard=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Professor Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to the professor dashboard!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This page should only be visible to professor users.\"})]});const StudentDashboard=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Student Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to the student dashboard!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This page should only be visible to student users.\"})]});function App(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(AuthDebug,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/debug\",element:/*#__PURE__*/_jsx(DebugAuth,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"admin\",children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/professor/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"professor\",children:/*#__PURE__*/_jsx(ProfessorDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/student/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"student\",children:/*#__PURE__*/_jsx(StudentDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","ProtectedRoute","LoadingSpinner","Navbar","DebugAuth","useAuth","Login","Register","jsx","_jsx","jsxs","_jsxs","AuthDebug","user","token","loading","process","env","NODE_ENV","style","position","top","right","background","color","padding","fontSize","zIndex","maxWidth","children","username","role","localStorage","getItem","AdminDashboard","className","ProfessorDashboard","StudentDashboard","App","path","element","to","replace","requiredRole"],"sources":["/home/mounikavemula/Documents/PROJECT/quizManagement/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport ProtectedRoute from './components/common/ProtectedRoute';\nimport LoadingSpinner from './components/common/LoadingSpinner';\nimport Navbar from './components/common/Navbar';\nimport DebugAuth from './components/DebugAuth';\nimport { useAuth } from './context/AuthContext';\n\n// Auth Components\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\n\n// CSS\nimport './App.css';\n\n// Debug component to show authentication state\nconst AuthDebug = () => {\n    const { user, token, loading } = useAuth();\n    \n    if (process.env.NODE_ENV !== 'development') {\n        return null;\n    }\n    \n    return (\n        <div style={{ \n            position: 'fixed', \n            top: 0, \n            right: 0, \n            background: 'rgba(0,0,0,0.8)', \n            color: 'white', \n            padding: '10px', \n            fontSize: '12px',\n            zIndex: 9999,\n            maxWidth: '300px'\n        }}>\n            <strong>Auth Debug:</strong><br/>\n            Loading: {loading ? 'true' : 'false'}<br/>\n            User: {user ? user.username : 'null'}<br/>\n            Role: {user?.role || 'none'}<br/>\n            Token: {token ? 'exists' : 'none'}<br/>\n            LocalStorage: {localStorage.getItem('token') ? 'exists' : 'none'}\n        </div>\n    );\n};\n\n// Basic Dashboard Components (temporary)\nconst AdminDashboard = () => (\n    <div className=\"container mt-4\">\n        <h2>Admin Dashboard</h2>\n        <p>Welcome to the admin dashboard!</p>\n        <p>This page should only be visible to admin users.</p>\n    </div>\n);\n\nconst ProfessorDashboard = () => (\n    <div className=\"container mt-4\">\n        <h2>Professor Dashboard</h2>\n        <p>Welcome to the professor dashboard!</p>\n        <p>This page should only be visible to professor users.</p>\n    </div>\n);\n\nconst StudentDashboard = () => (\n    <div className=\"container mt-4\">\n        <h2>Student Dashboard</h2>\n        <p>Welcome to the student dashboard!</p>\n        <p>This page should only be visible to student users.</p>\n    </div>\n);\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <AuthDebug />\n            <Navbar />\n            <Routes>\n                {/* Public Routes */}\n                <Route path=\"/login\" element={<Login />} />\n                <Route path=\"/register\" element={<Register />} />\n                \n                {/* Debug Route (development only) */}\n                <Route path=\"/debug\" element={<DebugAuth />} />\n                \n                {/* Default redirect */}\n                <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\n                \n                {/* Admin Routes */}\n                <Route\n                    path=\"/admin/dashboard\"\n                    element={\n                        <ProtectedRoute requiredRole=\"admin\">\n                            <AdminDashboard />\n                        </ProtectedRoute>\n                    }\n                />\n                \n                {/* Professor Routes */}\n                <Route\n                    path=\"/professor/dashboard\"\n                    element={\n                        <ProtectedRoute requiredRole=\"professor\">\n                            <ProfessorDashboard />\n                        </ProtectedRoute>\n                    }\n                />\n                \n                {/* Student Routes */}\n                <Route\n                    path=\"/student/dashboard\"\n                    element={\n                        <ProtectedRoute requiredRole=\"student\">\n                            <StudentDashboard />\n                        </ProtectedRoute>\n                    }\n                />\n                \n                {/* Catch all - redirect to login */}\n                <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n            </Routes>\n        </div>\n    );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}