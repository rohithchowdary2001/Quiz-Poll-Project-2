{"ast":null,"code":"import React from'react';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const{user,logout}=useAuth();const location=useLocation();// Don't show navbar on login/register pages or when not authenticated\nif(!user||location.pathname==='/login'||location.pathname==='/register'){return null;}const isActive=path=>{return location.pathname===path||location.pathname.startsWith(path+'/');};const handleLogout=async()=>{await logout();// Redirect to login page after logout\nwindow.location.href='/login';};const getDashboardLink=()=>{switch(user===null||user===void 0?void 0:user.role){case'admin':return'/admin/dashboard';case'professor':return'/professor/dashboard';case'student':return'/student/dashboard';default:return'/login';}};const getNavLinks=()=>{const roleLinks={admin:[{path:'/admin/dashboard',label:'Dashboard',icon:'fas fa-tachometer-alt'},{path:'/admin/users',label:'User Management',icon:'fas fa-users'},{path:'/admin/analytics',label:'Analytics',icon:'fas fa-chart-bar'},{path:'/admin/audit',label:'Audit Logs',icon:'fas fa-file-alt'}],professor:[{path:'/professor/dashboard',label:'Dashboard',icon:'fas fa-tachometer-alt'},{path:'/professor/classes',label:'Classes',icon:'fas fa-chalkboard-teacher'},{path:'/professor/quizzes',label:'Quizzes',icon:'fas fa-question-circle'}],student:[{path:'/student/dashboard',label:'Dashboard',icon:'fas fa-tachometer-alt'},{path:'/student/quizzes',label:'Available Quizzes',icon:'fas fa-list-check'},{path:'/student/history',label:'Quiz History',icon:'fas fa-history'}]};return roleLinks[user===null||user===void 0?void 0:user.role]||[];};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-primary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(Link,{className:\"navbar-brand\",to:getDashboardLink(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-graduation-cap me-2\"}),\"Quiz Management\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav me-auto\",children:getNavLinks().map(link=>/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:`nav-link ${isActive(link.path)?'active':''}`,to:link.path,children:[/*#__PURE__*/_jsx(\"i\",{className:`${link.icon} me-1`}),link.label]})},link.path))}),/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link dropdown-toggle\",href:\"#\",id:\"navbarDropdown\",role:\"button\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle me-1\"}),user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName,/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-light text-dark ms-2\",children:user===null||user===void 0?void 0:user.role})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"dropdown-item-text\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:user===null||user===void 0?void 0:user.email})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"hr\",{className:\"dropdown-divider\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt me-2\"}),\"Logout\"]})})]})]})})]})]})});};export default Navbar;","map":{"version":3,"names":["React","Link","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Navbar","user","logout","location","pathname","isActive","path","startsWith","handleLogout","window","href","getDashboardLink","role","getNavLinks","roleLinks","admin","label","icon","professor","student","className","children","to","type","id","map","link","firstName","lastName","email","onClick"],"sources":["/home/mounikavemula/Documents/PROJECT/quizManagement/frontend/src/components/common/Navbar.js"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\n\nconst Navbar = () => {\n  const { user, logout } = useAuth();\n  const location = useLocation();\n\n  // Don't show navbar on login/register pages or when not authenticated\n  if (!user || location.pathname === '/login' || location.pathname === '/register') {\n    return null;\n  }\n\n  const isActive = (path) => {\n    return location.pathname === path || location.pathname.startsWith(path + '/');\n  };\n\n  const handleLogout = async () => {\n    await logout();\n    // Redirect to login page after logout\n    window.location.href = '/login';\n  };\n\n  const getDashboardLink = () => {\n    switch (user?.role) {\n      case 'admin':\n        return '/admin/dashboard';\n      case 'professor':\n        return '/professor/dashboard';\n      case 'student':\n        return '/student/dashboard';\n      default:\n        return '/login';\n    }\n  };\n\n  const getNavLinks = () => {\n    const roleLinks = {\n      admin: [\n        { path: '/admin/dashboard', label: 'Dashboard', icon: 'fas fa-tachometer-alt' },\n        { path: '/admin/users', label: 'User Management', icon: 'fas fa-users' },\n        { path: '/admin/analytics', label: 'Analytics', icon: 'fas fa-chart-bar' },\n        { path: '/admin/audit', label: 'Audit Logs', icon: 'fas fa-file-alt' },\n      ],\n      professor: [\n        { path: '/professor/dashboard', label: 'Dashboard', icon: 'fas fa-tachometer-alt' },\n        { path: '/professor/classes', label: 'Classes', icon: 'fas fa-chalkboard-teacher' },\n        { path: '/professor/quizzes', label: 'Quizzes', icon: 'fas fa-question-circle' },\n      ],\n      student: [\n        { path: '/student/dashboard', label: 'Dashboard', icon: 'fas fa-tachometer-alt' },\n        { path: '/student/quizzes', label: 'Available Quizzes', icon: 'fas fa-list-check' },\n        { path: '/student/history', label: 'Quiz History', icon: 'fas fa-history' },\n      ],\n    };\n\n    return roleLinks[user?.role] || [];\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <div className=\"container-fluid\">\n        <Link className=\"navbar-brand\" to={getDashboardLink()}>\n          <i className=\"fas fa-graduation-cap me-2\"></i>\n          Quiz Management\n        </Link>\n\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav me-auto\">\n            {getNavLinks().map((link) => (\n              <li key={link.path} className=\"nav-item\">\n                <Link\n                  className={`nav-link ${isActive(link.path) ? 'active' : ''}`}\n                  to={link.path}\n                >\n                  <i className={`${link.icon} me-1`}></i>\n                  {link.label}\n                </Link>\n              </li>\n            ))}\n          </ul>\n\n          <ul className=\"navbar-nav\">\n            <li className=\"nav-item dropdown\">\n              <a\n                className=\"nav-link dropdown-toggle\"\n                href=\"#\"\n                id=\"navbarDropdown\"\n                role=\"button\"\n                data-bs-toggle=\"dropdown\"\n                aria-expanded=\"false\"\n              >\n                <i className=\"fas fa-user-circle me-1\"></i>\n                {user?.firstName} {user?.lastName}\n                <span className=\"badge bg-light text-dark ms-2\">\n                  {user?.role}\n                </span>\n              </a>\n              <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <li>\n                  <span className=\"dropdown-item-text\">\n                    <small className=\"text-muted\">\n                      {user?.email}\n                    </small>\n                  </span>\n                </li>\n                <li><hr className=\"dropdown-divider\" /></li>\n                <li>\n                  <button className=\"dropdown-item\" onClick={handleLogout}>\n                    <i className=\"fas fa-sign-out-alt me-2\"></i>\n                    Logout\n                  </button>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}